{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input-search'),\n  button: document.querySelector('.button'),\n  gallery: document.querySelector('.gallery'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  if (refs.input.value.trim() === '') {\n    return;\n  }\n\n  const userRequest = e.target.elements.search.value;\n\n  getPhotosByRequest(userRequest)\n    .then(data => {\n      if (data.hits.length === 0) {\n        clearGallery();\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          transitionIn: 'fadeInLeft',\n        });\n      } else {\n        renderPhotos(data.hits);\n      }\n    })\n    .catch(err => {\n      alert(err);\n    });\n\n  e.target.reset();\n}\n\nfunction getPhotosByRequest(userRequest) {\n  const API_KEY = '42307458-71f98d2a331f0bd294b8fc1ec';\n\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINTS = '/api/';\n  const PARAMS = `?key=${API_KEY}&q=${userRequest}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + END_POINTS + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}\n\nfunction photosTemplate(photos) {\n  return photos\n    .map(data => {\n      return `\n    <li class=\"gallery-item\"><a href=\"${data.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n          <div class=\"info\">\n          <p> <span class=\"info-text\">Likes</span> <br/> ${data.likes}</p>\n          <p><span class=\"info-text\">Views</span> <br/> ${data.views}</p>\n          <p><span class=\"info-text\">Comments</span> <br/> ${data.comments}</p>\n          <p><span class=\"info-text\">Downloads</span> <br/> ${data.downloads}</p>\n          </div>\n          </li>\n    `;\n    })\n    .join('');\n}\n\nfunction renderPhotos(photos) {\n  const galleryMarkup = photosTemplate(photos);\n  refs.gallery.innerHTML = galleryMarkup;\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n"],"names":["refs","onFormSubmit","e","userRequest","getPhotosByRequest","data","clearGallery","iziToast","renderPhotos","err","API_KEY","BASE_URL","END_POINTS","PARAMS","url","res","photosTemplate","photos","galleryMarkup"],"mappings":"svBAKA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,eAAe,EAC7C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,SAASA,EAAaC,EAAG,CAGvB,GAFAA,EAAE,eAAc,EAEZF,EAAK,MAAM,MAAM,KAAI,IAAO,GAC9B,OAGF,MAAMG,EAAcD,EAAE,OAAO,SAAS,OAAO,MAE7CE,EAAmBD,CAAW,EAC3B,KAAKE,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,IACAC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,aAAc,YACxB,CAAS,GAEDC,EAAaH,EAAK,IAAI,CAE9B,CAAK,EACA,MAAMI,GAAO,CACZ,MAAMA,CAAG,CACf,CAAK,EAEHP,EAAE,OAAO,OACX,CAEA,SAASE,EAAmBD,EAAa,CACvC,MAAMO,EAAU,qCAEVC,EAAW,sBACXC,EAAa,QACbC,EAAS,QAAQH,CAAO,MAAMP,CAAW,2DAEzCW,EAAMH,EAAWC,EAAaC,EAEpC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CAEA,SAASC,EAAeC,EAAQ,CAC9B,OAAOA,EACJ,IAAIZ,GACI;AAAA,wCAC2BA,EAAK,aAAa;AAAA,4CACdA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,2DAErBA,EAAK,KAAK;AAAA,0DACXA,EAAK,KAAK;AAAA,6DACPA,EAAK,QAAQ;AAAA,8DACZA,EAAK,SAAS;AAAA;AAAA;AAAA,KAIvE,EACA,KAAK,EAAE,CACZ,CAEA,SAASG,EAAaS,EAAQ,CAC5B,MAAMC,EAAgBF,EAAeC,CAAM,EAC3CjB,EAAK,QAAQ,UAAYkB,CAC3B,CAEA,SAASZ,GAAe,CACtBN,EAAK,QAAQ,UAAY,EAC3B"}